{% extends 'base.html' %}

{% load static %}
{% load sass_tags %}

{% block css %}
<!-- Plugins css start-->
<link rel="stylesheet" type="text/css" href="{% sass_src 'assets/scss/vendors/todo.scss' %}">
<!-- Plugins css Ends-->
{% endblock %}

{% block content %}

<div class="page-body">
      {% include "layout/breadcrumb.html" %}

     {% include "events/components/events_list_form.html" %}

</div>

{% endblock %}

{% block scriptcontent %}
<!-- Plugins JS start-->
    <script src="{% static 'assets/js/todo/todo.js'%}"></script>
    <script src="{% static 'assets/js/todo/todo.js'%}"></script>

<script>
// jQuery для передачи данных в модальное окно
$(document).ready(function() {
    $('.open-modal').on('click', function() {
        var id = $(this).data('id');
        var cafedra = $(this).data('cafedra');
        var name = $(this).data('name');
        var date = $(this).data('date');
        var direction = $(this).data('direction');
        var quantity = $(this).data('quantity');
        var age_14 = $(this).data('age_14');
        var age_35 = $(this).data('age_35');
        var age_other = $(this).data('age_other');
        var invalids = $(this).data('invalids');
        var out_of_station = $(this).data('out_of_station');
        var as_part = $(this).data('as_part');
        var paid = $(this).data('paid') === 'true';
        var note = $(this).data('note');

        // Заполняем поля формы
        $('#id_cafedra').val(cafedra); // Устанавливаем значение кафедры
        $('#id_name').val(name);
        $('#id_date').val(date);

        // Устанавливаем другие поля аналогично...

        // Устанавливаем скрытое поле для ID события
        $('[name=pk]').val(id);

        // Устанавливаем action для формы
        $('#eventForm').attr('action', "{% url 'update_event' pk='0' %}".replace("0", id));

        // Открываем модальное окно
        $('#editEventModal').modal('show');
    });
});
</script>
<!-- Plugins JS Ends-->
{% endblock %}